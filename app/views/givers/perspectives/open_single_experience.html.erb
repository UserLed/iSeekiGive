<div class="skills span6">
	<% @giver_skills.each_with_index do |skill, id| %>
		<p class="btn btn-info" style="width:120px;float:left;margin:2px;" id='skill_<%= id+1 %>'>
		<%= skill.name %>
		</p>
	<% end %>
</div>


<div class="span6 experiences">
		<div>
			<p><%= @giver_experience.company_name %></p>
			<p><%= @giver_experience.title %></p>
			<%= link_to "Add Skill","javascript:void(0);", :class => "experience_new", :id => "experience_#{@giver_experience.id}" %>
		</div>
		<hr/>	
</div>

<script type="text/javascript">
	$(function(){

		$(".skills p").draggable({
			appendTo: "body",
			helper : 'clone',
		});

		$(document).on("click",".experience_new", function(){
			var droppable_class = "."+$(this).attr('id');
			droppable_class_value = $(this).attr("id");
			$(this).parent().append("<div class="+$(this).attr("id") +" style='height:500px;'></div>")
		
			var experience_name = $(droppable_class).parent().children("p:first").text();

			$(droppable_class).droppable({
				activeClass: "ui-state-default",
				hoverClass: "ui-state-hover",
				accept: ":not(.ui-sortable-helper)",
				drop: function(event, ui){
					// console.log(ui);
					// console.log($(this).attr("id"));
					var drop_id = $(this);
					$(droppable_class).append("<div>"+ui.draggable.text()+"</div>");
					$.post("<%= save_game_tag_giver_perspectives_path(current_user) %>", {tag_name: ui.draggable.text(), user_id: "<%= current_user.id %>", experience_name: experience_name},function(data){console.log(data)
					});
				},

			});

	});


	});
</script>
